---
import { getEntry } from "astro:content";
import FullWidthCard from "../components/FullWidthCard.astro";
import ThreeColumnsCard from "../components/ThreeColumnsCard.astro";
import PackagesSection from "../components/PackagesSection.astro";

const home = await getEntry("landing", "home");
const { fullWidthCard, threeColumnsCards, packagesSection } = home.data;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="/styles.css" />
    <title>Services â€” Boldmove</title>
    <link rel="stylesheet" href="https://use.typekit.net/ipc3zqt.css">
  </head>

  <body style="margin:0;background:#0b0b0c;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;">
    <main>
      <FullWidthCard
        title={fullWidthCard.title}
        headline={fullWidthCard.headline}
        body={fullWidthCard.body}
        icons={fullWidthCard.icons}
      />

      {(threeColumnsCards ?? []).map((section) => (
        <ThreeColumnsCard title={section.title} items={section.items} />
      ))}

      {packagesSection && <PackagesSection {...packagesSection} />}

    </main>

    <script is:inline>
      (function () {
        const h = window.location.hash || "";
        if (
          h.includes("invite_token=") ||
          h.includes("recovery_token=") ||
          h.includes("confirmation_token=")
        ) {
          window.location.replace("/admin/index.html" + h);
        }
      })();
    </script>
  </body>
</html>
